# for user sign in/sign up

CREATE TABLE users (
UserID INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
Email VARCHAR(64) NOT NULL UNIQUE,
Password VARCHAR(64) NOT NULL,
Nickname VARCHAR(32) NOT NULL
);


# for user-generated song info

CREATE TABLE song_info_user_generated (
artist VARCHAR(128) NOT NULL,
trackname VARCHAR(128) NOT NULL,
meaning VARCHAR(2048),
video_link VARCHAR(1024),
image VARCHAR(2014),
PRIMARY KEY (artist, trackname)
);

# user-generated song info verification queue

CREATE TABLE song_info_verification_queue (
submission_id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY ,
processed BOOLEAN DEFAULT FALSE,
submission_time TIMESTAMP,
artist VARCHAR(128) NOT NULL,
trackname VARCHAR(128) NOT NULL,
info_type VARCHAR(32) NOT NULL,
info VARCHAR(2048) NOT NULL,
user_id INT UNSIGNED NOT NULL
);

# info_type: lyrics, meaning, video_link, image

# for song lyrics

CREATE TABLE song_lyrics (
artist VARCHAR(128) NOT NULL,
trackname VARCHAR(128) NOT NULL,
lyrics VARCHAR(2048) NOT NULL,
user_id INT UNSIGNED NOT NULL,
last_update_time TIMESTAMP,
PRIMARY KEY (artist, trackname)
);


# for song metainfo
CREATE TABLE song_meta (
Artist VARCHAR(128) NOT NULL,
Trackname VARCHAR(128) NOT NULL,
PRIMARY KEY (Artist, Trackname)
);
